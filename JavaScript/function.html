<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Functions in JS</title>
    <script>
        function addition(a,b) {
            console.log("before the return statement")

            return a + b;
            console.log("after the return statement") // this line will never execute
        }

        let result = addition(5,3);
        // alert("The result is: " + result);
        console.log("The result is: " + result);
    
        //we can call before defining the function because of hoisting
        multiplication(10,2);
        function multiplication(a,b) {
            console.log("Multiplying " + a + " and " + b + " is "+ a*b);
        }
        //but we cannot call function expressions before defining them
        // division(20,4);
        //Uncaught ReferenceError: Cannot access 'division' before initialization
        const division = function(a,b) {
            console.log("Dividing " + a + " and " + b + " is "+ a/b);
        }
        division(20,4);
        //Immediately Invoked Function Expression (IIFE)
        (function showResult(){
            alert("This is an IIFE function")
        });

        const numData = function(){
            const sum = function (a,b) {
                return a + b;
            }
            return alert(sum(10,20));
        }
        // numData();
        // console.log(numData())

        function printAllRecords(arr) {
            for(let i=0; i< arr.length; i++) {
                console.log("Record " + (i+1) + ": " + arr[i]);
            }
        }
        
        let  numArr = [10,20,30,40,50];
        printAllRecords(numArr);

        //Arrow Functions
        const demo = () =>{
            console.log("inside the arrow function")
        }
        demo();

        // const obj = {
        //     name: "Ganesh",
        //     printName:function(){
        //         console.log(this.name)
        //     }
        // }
        const obj = {
            name: "Ganesh",
            printName: () => {
                console.log(this.name) //arrow fun does not support 'this' keyword
            }
        }
        obj.printName();

        const dataObj = {
            name: "Dhanaji",
            mobile: 1234567890,
            printData:function(){
                console.log(this.name + " : " + this.mobile)
            }
        }
        dataObj.printData();

        //call
        const personData = {
            fullData : function(city, country) {
                console.log(this.name + " "+ this.mobile + " "+city+" " +country);
            },
             fullData1 : function(city, country) {
                console.log(this.name + " "+ this.mobile + " "+city+" " +country);
            }
        }
        const person1 = {
            name: "Alice",
            mobile: 9876543210
        }

        const person2 = {
            name: "Bob",
            mobile: 8765432109
        }

        personData.fullData.call(person1,"pune", "India"); //use call method
        personData.fullData1.apply(person2, ["mumbai", "India"]); //use apply method
        let personResult = personData.fullData.bind(person1, "delhi", "India"); //use bind method

        personResult(); //calling the bound function

        //Closure in JS
        //Function inside a function and inner function has access to outer function variables and its lexical scope
        //closure is created when function remembers and accesses variables from outside its own scope

        function outer(){
            let count = 0;
            function inner(){
                count ++;
                console.log("Count value: " + count);
            }
            return inner;
        }
        console.log("Demonstrating Closure: ");
        const functionClosure = outer(); //outer function executed
        functionClosure(); //inner function called
        functionClosure(); 
        functionClosure(); 
        console.log("===============================");

        // for(var i=0; i<=3; i++){
        //     (function(i){
        //         setTimeout(() => {
        //             console.log(i)
        //         }, 1000);
        //     })(i);
        // }
        console.log("Currying in JS")
        //currying function in JS
        function one(a){
            return function two(b){
                return function three(c){
                    console.log(a, b, c);
                }
            }
        }
        one()(10)(15);
        

</script>
</head>
<body>
        <ul>
            <li>Arrow Functions</li>
            <li>Call, Apply, Bind</li>
            <li>Closure in JS</li>
            <li></li>
        </ul>    
</body>
</html>